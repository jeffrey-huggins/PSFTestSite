$(document).ready(function(){function r(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function u(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input type="text" size="45" value="'+r[0]+'"/>';i[1].innerHTML='<input type="text" size="3" value="'+r[1]+'"/>';i[3].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function f(n,t,r){var u=$("input",t);$.ajax({url:path+"JSON/EditRowNameOrder",dataType:"json",cache:!1,type:"POST",data:{rowId:r,description:u[0].value,order:u[1].value,appCode:"SOC",socCode:i},success:function(i){i.Success&&(n.fnUpdate(u[0].value,t,0,!1),n.fnUpdate(u[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}})}var i=7,n=$("#anti").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No AntiPsychotic Diagnoses"}}),t;n.fnSort([[1,"asc"]]);t=null;$("#anti .EnableDisable").click(function(){var u=$(this),t=$(this).is(":checked"),f=$(this).parents("tr")[0],r=n.fnGetData(f);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:r[0],dFlag:t,appCode:"SOC",socCode:i},success:function(n){if(n.Success){var i=r[0]+" has been successfully ";i+=t?"enabled.":"disabled.";alert(i)}else u.prop("checked",!t),alert("AntiPsychotic has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#anti a.delete").live("click",function(t){t.preventDefault();var r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),e=n.fnGetData(r),f=confirm("Are you sure you want to delete?");f&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:u,appCode:"SOC",socCode:i},success:function(t){t.Success?n.fnDeleteRow(r):alert("AntiPsychotic has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#anti a.edit").live("click",function(i){var e,o,s;i.preventDefault();e=$(this).parents("tr")[0];t!==null&&t!=e?(r(n,t),u(n,e),t=e):t==e&&this.innerHTML=="Save"?(o=$(this).closest("tr").attr("id"),s=f(n,t,o),s&&(t=null)):(u(n,e),t=e)});$("#anti a.cancel").live("click",function(t){t.preventDefault();var i=$(this).parents("tr")[0];r(n,i)})});