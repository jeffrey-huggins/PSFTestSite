$(document).ready(function(){function i(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function r(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input type="text" size="45" value="'+r[0]+'"/>';i[1].innerHTML='<input type="text" size="3" value="'+r[1]+'"/>';i[3].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function a(n,t,i,r){var u=$("input",t);$.ajax({url:path+"JSON/EditRowNameOrder",dataType:"json",cache:!1,type:"POST",data:{rowId:i,description:u[0].value,order:u[1].value,appCode:"SOC",socCode:r},success:function(i){i.Success&&(n.fnUpdate(u[0].value,t,0,!1),n.fnUpdate(u[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}})}var p=2,v=3,y=4,w=5,b=6,e=$("#location").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Fall Locations"}}),o,n,s,t,h,u,c,f,l;e.fnSort([[1,"asc"]]);o=null;$("#location .EnableDisable").click(function(){var i=$(this),n=$(this).is(":checked"),r=$(this).parents("tr")[0],t=e.fnGetData(r);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:t[0],dFlag:n,appCode:"SOC",socCode:p},success:function(r){if(r.Success){var u=t[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else i.prop("checked",!n),alert("Fall Location has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#location a.delete").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0],i=$(this).closest("tr").attr("id"),u=e.fnGetData(t),r=confirm("Are you sure you want to delete?");r&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:i,appCode:"SOC",socCode:p},success:function(n){n.Success?e.fnDeleteRow(t):alert("Fall Location has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#location a.edit").live("click",function(n){var t,u,f;n.preventDefault();t=$(this).parents("tr")[0];o!==null&&o!=t?(i(e,o),r(e,t),o=t):o==t&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=a(e,o,u,p),f&&(o=null)):(r(e,t),o=t)});$("#location a.cancel").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0];i(e,t)});n=$("#injury").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Fall Injury Types"}});n.fnSort([[1,"asc"]]);s=null;$("#injury .EnableDisable").click(function(){var r=$(this),t=$(this).is(":checked"),u=$(this).parents("tr")[0],i=n.fnGetData(u);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:t,appCode:"SOC",socCode:v},success:function(n){if(n.Success){var u=i[0]+" has been successfully ";u+=t?"enabled.":"disabled.";alert(u)}else r.prop("checked",!t),alert("Fall Injury Type has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#injury .Threshold").click(function(){var r=$(this),t=$(this).is(":checked"),u=$(this).parents("tr")[0],i=n.fnGetData(u);$.ajax({url:path+"JSON/ChangeThresholdFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:t,appCode:"SOC",socCode:v},success:function(n){if(n.Success){var u=i[0]+" Threshold has been successfully ";u+=t?"enabled.":"disabled.";alert(u)}else r.prop("checked",!t),alert("Fall Injury Type Threshold has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#injury a.delete").live("click",function(t){t.preventDefault();var i=$(this).parents("tr")[0],r=$(this).closest("tr").attr("id"),f=n.fnGetData(i),u=confirm("Are you sure you want to delete?");u&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:r,appCode:"SOC",socCode:v},success:function(t){t.Success?n.fnDeleteRow(i):alert("Fall Injury Type has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#injury a.edit").live("click",function(t){var u,f,e;t.preventDefault();u=$(this).parents("tr")[0];s!==null&&s!=u?(i(n,s),r(n,u),s=u):s==u&&this.innerHTML=="Save"?(f=$(this).closest("tr").attr("id"),e=a(n,s,f,v),e&&(s=null)):(r(n,u),s=u)});$("#injury a.cancel").live("click",function(t){t.preventDefault();var r=$(this).parents("tr")[0];i(n,r)});t=$("#treatment").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Fall Treatments"}});t.fnSort([[1,"asc"]]);h=null;$("#treatment .EnableDisable").click(function(){var r=$(this),n=$(this).is(":checked"),u=$(this).parents("tr")[0],i=t.fnGetData(u);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:n,appCode:"SOC",socCode:y},success:function(t){if(t.Success){var u=i[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else r.prop("checked",!n),alert("Fall Treatment has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#treatment .Threshold").click(function(){var r=$(this),n=$(this).is(":checked"),u=$(this).parents("tr")[0],i=t.fnGetData(u);$.ajax({url:path+"JSON/ChangeThresholdFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:n,appCode:"SOC",socCode:y},success:function(t){if(t.Success){var u=i[0]+" Threshold has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else r.prop("checked",!n),alert("Fall Treatment Threshold has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#treatment a.delete").live("click",function(n){n.preventDefault();var i=$(this).parents("tr")[0],r=$(this).closest("tr").attr("id"),f=t.fnGetData(i),u=confirm("Are you sure you want to delete?");u&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:r,appCode:"SOC",socCode:y},success:function(n){n.Success?t.fnDeleteRow(i):alert("Fall Treatment has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#treatment a.edit").live("click",function(n){var u,f,e;n.preventDefault();u=$(this).parents("tr")[0];h!==null&&h!=u?(i(t,h),r(t,u),h=u):h==u&&this.innerHTML=="Save"?(f=$(this).closest("tr").attr("id"),e=a(t,h,f,y),e&&(h=null)):(r(t,u),h=u)});$("#treatment a.cancel").live("click",function(n){n.preventDefault();var r=$(this).parents("tr")[0];i(t,r)});u=$("#intervention").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Fall Injury Types"}});u.fnSort([[1,"asc"]]);c=null;$("#intervention .EnableDisable").click(function(){var i=$(this),n=$(this).is(":checked"),r=$(this).parents("tr")[0],t=u.fnGetData(r);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:t[0],dFlag:n,appCode:"SOC",socCode:w},success:function(r){if(r.Success){var u=t[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else i.prop("checked",!n),alert("Fall Intervention has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#intervention a.delete").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0],i=$(this).closest("tr").attr("id"),f=u.fnGetData(t),r=confirm("Are you sure you want to delete?");r&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:i,appCode:"SOC",socCode:w},success:function(n){n.Success?u.fnDeleteRow(t):alert("Fall Intervention has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#intervention a.edit").live("click",function(n){var t,f,e;n.preventDefault();t=$(this).parents("tr")[0];c!==null&&c!=t?(i(u,c),r(u,t),c=t):c==t&&this.innerHTML=="Save"?(f=$(this).closest("tr").attr("id"),e=a(u,c,f,w),e&&(c=null)):(r(u,t),c=t)});$("#intervention a.cancel").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0];i(u,t)});f=$("#type").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Fall Injury Types"}});f.fnSort([[1,"asc"]]);l=null;$("#type .EnableDisable").click(function(){var i=$(this),n=$(this).is(":checked"),r=$(this).parents("tr")[0],t=f.fnGetData(r);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:t[0],dFlag:n,appCode:"SOC",socCode:b},success:function(r){if(r.Success){var u=t[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else i.prop("checked",!n),alert("Fall Injury Type has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#type a.delete").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0],i=$(this).closest("tr").attr("id"),u=f.fnGetData(t),r=confirm("Are you sure you want to delete?");r&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:i,appCode:"SOC",socCode:b},success:function(n){n.Success?f.fnDeleteRow(t):alert("Fall Injury Type has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#type a.edit").live("click",function(n){var t,u,e;n.preventDefault();t=$(this).parents("tr")[0];l!==null&&l!=t?(i(f,l),r(f,t),l=t):l==t&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),e=a(f,l,u,b),e&&(l=null)):(r(f,t),l=t)});$("#type a.cancel").live("click",function(n){n.preventDefault();var t=$(this).parents("tr")[0];i(f,t)})});