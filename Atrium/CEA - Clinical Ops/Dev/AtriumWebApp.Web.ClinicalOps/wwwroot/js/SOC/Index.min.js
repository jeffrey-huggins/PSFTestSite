function updateTable(){var r=$("#occurredRangeFrom").val(),u=checkDate(r),t,i,n,f;if(u=="invalid")return alert("Error: Please enter a valid From Date (mm/dd/yyyy)"),!1;if(u=="infuture")return alert("Error: You can not have a From date that is in the future"),!1;if(t=$("#occuredRangeTo").val(),i=checkDate(t),i=="invalid")return alert("Error: Please enter a valid To Date (mm/dd/yyyy)"),!1;if(i=="infuture")return alert("Error: You can not have a To date that is in the future"),!1;n=$("#Residents option:selected").val();n!=""&&(f=path+"StandardsOfCare/GetSOCEventList?patientId="+n+"&fromString="+encodeURIComponent(r)+"&toString="+encodeURIComponent(t),$("#window").load(f),$("#selectedResidentView").load(path+"StandardsOfCare/PatientInfo?patientId="+n,function(){$("#title").text("Standards Of Care for "+$("#residentName").text())}),$("#measuresSelection").show(),$(".instruction").hide())}function launchEditModal(n){$("#modal").load(n,function(){$("#modal").dialog({width:"auto",height:"auto",resizable:!1,modal:!0,position:{my:"center top",at:"center top",of:window},open:function(){},close:function(){$(this).dialog("destroy")}})})}function initSidebar(){$("#LookbackDate").datepicker({beforeShow:function(n,t){t.dpDiv.css({marginTop:"10px",marginLeft:"0px"})}});$("#Residents").val("");$("#title").text("Standards Of Care");$(".instruction").show();$("#measuresSelection").hide();$("#window").html("")}$(".isDate").datepicker();$("#SOCMeasure").on("change",function(){$("#createSOC").removeAttr("disabled")});$("#updateTable").click(function(){updateTable()});$("#createSOC").click(function(){var n=$("#SOCMeasure option:selected").val(),t=$("#Residents option:selected").val(),i=path+"StandardsOfCare/EditEvent?measureId="+n+"&residentId="+t;launchEditModal(i)});$("#sideBar").on("change","#Residents",function(){updateTable()});$("#sideBar").on("click","#lookbackUpdate",function(n){n.preventDefault();var i=getMomentDate($("#LookbackDate").val()),t=checkDate($("#LookbackDate").val());t=="invalid"?alert("Error: Please enter a valid Last Census Date (mm/dd/yyyy)"):t=="infuture"?alert("Error: You can not have a Census date that is in the future"):(ShowProgress(),$("#SideDDL").ajaxSubmit({url:path+"StandardsOfCare/UpdateSideBar",type:"POST",success:function(n){$("#sideBar").html(n);initSidebar()}}))});$("#sideBar").on("change","#Communities",function(){ShowProgress();$("#SideDDL").ajaxSubmit({url:path+"StandardsOfCare/UpdateSideBar",type:"POST",success:function(n){$("#sideBar").html(n);initSidebar()}})});