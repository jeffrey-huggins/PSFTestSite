function setDateRequired(){$("#OfferedRefusedFlg").is(":checked")||$("#ImmunizationPriorToAdmissionFlg").is(":checked")?$("#VaccineDate").rules("remove","required"):$("#VaccineDate").rules("add","required");$("#VaccineDate").removeClass("input-validation-error");$("#VaccineDate-error").remove()}$(document).ready(function(){$.validator.addMethod("unknwon_prior_to_admission_required",function(n,t){var i=!0;return n!="1"||$("#ImmunizationPriorToAdmissionFlg").is(":checked")||(i=!1),this.optional(t)||i},"Vaccine type can only be unknown if it was prior to admission.");$.validator.setDefaults({ignore:[]});$("#savePneumoniaVaccine").removeData("validator");$("#savePneumoniaVaccine").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse($("#savePneumoniaVaccine"));$("#savePneumoniaVaccine").validate();$("#ImmunizationPriorToAdmissionFlg").is(":checked")?$("#VaccineDate").rules("remove","required"):$("#VaccineDate").rules("add","required");setDateRequired();$("#OfferedRefusedFlg").is(":checked")?($(".refusedDate").show(),$("#OfferedRefusedDate").rules("add","required")):($(".refusedDate").hide(),$(".refusedDate").val(""),$("#OfferedRefusedDate").rules("remove","required"));$("#OfferedRefusedFlg").on("change",function(){$(this).is(":checked")?($(".refusedDate").show(),$("#OfferedRefusedDate").rules("add","required")):($(".refusedDate").hide(),$(".refusedDate").val(""),$("#OfferedRefusedDate").rules("remove","required"),$("#OfferedRefusedDate-error").remove(),$("#OfferedRefusedDate").valid());setDateRequired()});$(".isDate").datepicker({onSelect:function(){$(this).valid();$("#saveVaccine").focus()}})});$("#saveVaccine").on("click",function(n){n.preventDefault();var t=$("#savePneumoniaVaccine");t.valid()&&t.ajaxSubmit({success:function(n){n.success?($("#modal").dialog("close"),updateTable()):alert("Error: Vaccine not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}})});