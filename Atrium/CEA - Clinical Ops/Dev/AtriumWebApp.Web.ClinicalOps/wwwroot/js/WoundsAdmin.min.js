$(document).ready(function(){function e(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function o(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input type="text" size="45" value="'+r[0]+'"/>';i[1].innerHTML='<input type="text" size="3" value="'+r[1]+'"/>';i[4].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function s(n,t,i){var r=$("input",t);$.ajax({url:path+"JSON/EditRowNameOrder",dataType:"json",cache:!1,type:"POST",data:{rowId:i,description:r[0].value,order:r[1].value,appCode:"SOC",socCode:u},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,4,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}})}function h(n,t,i){var r=$("input",t);$.ajax({url:path+"JSON/EditRowNameOrder",dataType:"json",cache:!1,type:"POST",data:{rowId:i,description:r[0].value,order:r[1].value,appCode:"SOC",socCode:f},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,4,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}})}var u=0,f=1,n=$("#PRWND").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Stages"}}),i,t,r;n.fnSort([[1,"asc"]]);i=null;$("#PRWND .EnableDisable").click(function(){var r=$(this),t=$(this).is(":checked"),f=$(this).parents("tr")[0],i=n.fnGetData(f);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:t,appCode:"SOC",socCode:u},success:function(n){if(n.Success){var u=i[0]+" has been successfully ";u+=t?"enabled.":"disabled.";alert(u)}else r.prop("checked",!t),alert("Pressure Wound has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#PRWND .ReportFlg").click(function(){var r=$(this),t=$(this).is(":checked"),f=$(this).parents("tr")[0],i=n.fnGetData(f);$.ajax({url:path+"JSON/ChangeDataFlgReport",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:t,appCode:"SOC",socCode:u},success:function(n){if(n.Success){var u=i[0]+" has been successfully ";u+=t?"enabled.":"disabled.";alert(u)}else r.prop("checked",!t),alert("Pressure Wound has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#PRWND .severity-level").live("change",function(){var t=$(this).parents("tr")[0],i=n.fnGetData(t),r=$(this).val();$.ajax({url:path+"JSON/UpdateStageSeverity",dataType:"json",type:"POST",data:{id:$(t).attr("id"),severityLevel:r},success:function(n){if(n.Success){var t=i[0]+"'s severity level has been successfully updated";alert(t)}else alert("The severity level was not successfully updated.")}})});$("#PRWND .WoundFlg").click(function(){var t=$(this),i=$(this).is(":checked"),r=$(this).parents("tr")[0],f=n.fnGetData(r),e=t.data("woundflg"),o=t.data("woundflg-name");$.ajax({url:path+"JSON/ChangeDataFlgWound",dataType:"json",cache:!1,type:"POST",data:{description:f[0],dFlag:i,appCode:"SOC",socCode:u,socWoundFlg:e},success:function(n){if(n.Success){var r=o+" has been successfully ";r+=i?"enabled.":"disabled.";alert(r)}else t.prop("checked",!i),alert("Pressure Wound has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#PRWND a.delete").live("click",function(t){t.preventDefault();var i=$(this).parents("tr")[0],r=$(this).closest("tr").attr("id"),e=n.fnGetData(i),f=confirm("Are you sure you want to delete?");f&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:r,appCode:"SOC",socCode:u},success:function(t){t.Success?n.fnDeleteRow(i):alert("Pressure Wound has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#PRWND a.edit").live("click",function(t){var r,u,f;t.preventDefault();r=$(this).parents("tr")[0];i!==null&&i!=r?(e(n,i),o(n,r),i=r):i==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=s(n,i,u),f&&(i=null)):(o(n,r),i=r)});$("#PRWND a.cancel").live("click",function(t){t.preventDefault();var i=$(this).parents("tr")[0];e(n,i)});t=$("#SCWND").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},null,{bSortable:!1},{bSortable:!1},{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No Composite Wound Descriptions"}});t.fnSort([[1,"asc"]]);r=null;$("#SCWND .EnableDisable").click(function(){var r=$(this),n=$(this).is(":checked"),u=$(this).parents("tr")[0],i=t.fnGetData(u);$.ajax({url:path+"JSON/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:n,appCode:"SOC",socCode:f},success:function(t){if(t.Success){var u=i[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else r.prop("checked",!n),alert("Composite Wound has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#SCWND .ReportFlg").click(function(){var r=$(this),n=$(this).is(":checked"),u=$(this).parents("tr")[0],i=t.fnGetData(u);$.ajax({url:path+"JSON/ChangeDataFlgReport",dataType:"json",cache:!1,type:"POST",data:{description:i[0],dFlag:n,appCode:"SOC",socCode:f},success:function(t){if(t.Success){var u=i[0]+" has been successfully ";u+=n?"enabled.":"disabled.";alert(u)}else r.prop("checked",!n),alert("Composite Wound has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$("#SCWND a.delete").live("click",function(n){n.preventDefault();var i=$(this).parents("tr")[0],r=$(this).closest("tr").attr("id"),e=t.fnGetData(i),u=confirm("Are you sure you want to delete?");u&&$.ajax({url:path+"JSON/DeleteRowAdmin",dataType:"json",cache:!1,type:"POST",data:{rowId:r,appCode:"SOC",socCode:f},success:function(n){n.Success?t.fnDeleteRow(i):alert("Composite Wound has failed to be deleted. Please try again and if you see this message repeatedly the server may be down.")}})});$("#SCWND a.edit").live("click",function(n){var i,u,f;n.preventDefault();i=$(this).parents("tr")[0];r!==null&&r!=i?(e(t,r),o(t,i),r=i):r==i&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=h(t,r,u),f&&(r=null)):(o(t,i),r=i)});$("#SCWND a.cancel").live("click",function(n){n.preventDefault();var i=$(this).parents("tr")[0];e(t,i)})});