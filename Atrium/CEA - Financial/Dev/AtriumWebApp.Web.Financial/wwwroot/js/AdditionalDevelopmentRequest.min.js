function isInvalidDate(n){return n!=""&&!ValidateDate(n)}function isInvalidCurrency(n){return n!=""&&!ValidateCurrency(n)}$(document).ready(function(){var i=$("#ADRTable").dataTable({bAutoWidth:!1,sScrollY:"200px",sDom:"rt",iDisplayLength:-1,aoColumns:[{bVisible:!1},null,null,null,null,null,null,{bSortable:!1},{bSortable:!1}],oLanguage:{sEmptyTable:"No records within this range."}}),n,t;i.fnSort([[3,"asc"]]);$("#ClosedRequestsShown").val()!="True"?i.fnFilter("False",0,!1):$("#ClosedRequests").prop("checked",!0);$("#ClosedRequests").click(function(){var n=$(this).is(":checked");$.post(path+"/AdditionalDevelopmentRequest/ClosedRequests",{isChecked:n}).done(function(){n?i.fnFilter("^.*",0,!0):i.fnFilter("False",0,!1)})});$("#ADRTable a.edit").on("click",function(n){n.preventDefault();var t=$(this).closest("tr").attr("id");$.post(path+"/AdditionalDevelopmentRequest/SetADR",{rowId:t}).done(function(){window.ShowProgress();window.location.reload()})});$("#ADRTable a.delete").on("click",function(n){if(n.preventDefault(),confirm("Are you sure you want to delete?")){var r=$(this).parents("tr")[0],t=$(this).closest("tr").attr("id");$.ajax({url:path+"/AdditionalDevelopmentRequest/DeleteRow",dataType:"json",cache:!1,type:"POST",data:{rowId:t},success:function(n){n.Success?(i.fnDeleteRow(r),$("#ADR_RequestId").val()==t&&$.post(path+"/AdditionalDevelopmentRequest/ClearADR").done(function(){window.location.reload()})):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}})}});$(function(){$(".isDate").datepicker({beforeShow:function(n,t){t.dpDiv.css({marginTop:-n.offsetHeight+"px",marginLeft:n.offsetWidth+"px"})}})});n=[["ServiceBeginDate","Service Begin",!1],["ServiceEndDate","Service End Date",!1],["ADRDate","ADR CMS Date",!0],["ADRReceivedDate","ADR Received Date",!1],["ADRReturnMailDate","ADR Returned Mail Date",!1],["ADRDenialDate","ADR Denial Date",!1],["RedeterminationMailDate","Redetermination Mail Date",!1],["RedeterminationDenialDate","Redetermination Denial Date",!1],["ReconsiderationMailDate","Reconsideration Mail Date",!1],["ReconsiderationDenialDate","Reconsideration Denial Date",!1],["ALJMailDate","ALJ Mail Date",!1],["ALJHearingDate","ALJ Hearing Date",!1],["ALJDenialDate","ALJ Denial Date",!1]];t=[["ARAmount","AR Amount",!0]];$("#submitADR").click(function(){var e=" is a required field.",r=!0,o=$("#ADR_DCN").val(),u,i,f;for(o.length!=17&&(alert("DCN must be 17 characters in length."),r=!1),i=0;i<n.length;i++)u=$("#"+n[i][0]).val(),n[i][2]&&u==""&&(alert(n[i][1]+e),r=!1),isInvalidDate(u)&&(alert(n[i][1]+" must be in the format mm/dd/yyyy."),r=!1);for(i=0;i<t.length;i++)f=$("#"+t[i][0]).val(),t[i][2]&&f==""&&(alert(t[i][1]+e),r=!1),isInvalidCurrency(f)&&(alert(t[i][1]+" must be in the format X.XX"),r=!1);r&&$("#SaveADR").submit()});$("#clearADR").click(function(){$.post(path+"/AdditionalDevelopmentRequest/ClearADR").done(function(){window.ShowProgress();window.location.reload()})});$("#addToNotes").click(function(){if($("#ADR_RequestId").val()==""){alert("An ADR entry must be saved or edited in order to save notes.");return}var t=$("#ADR_RequestId").val(),n=$("#Notes").val();$.trim(n).length!=0&&$.ajax({url:path+"/AdditionalDevelopmentRequest/AddNote",dataType:"json",cache:!1,type:"POST",data:{adrId:t,note:n},success:function(n){if(!n.Success)return n.Reason==1&&alert("Error: Could not save to the database. Please try again."),n.Reason==2&&alert("Error: The Notes area's content is too long and information would be truncated. Please make your text shorter."),SetCountDownTime(1800),!1;$("#Notes").val("");$("#ADR_RequestNotes").val(n.UpdateNote)},error:function(){alert("Server is not responding. Please reload page and try again")}})});$(function(){$("#ToDateRangeInvalid").val()=="1"&&alert('Error: Please enter a valid date in the Infection Date Range "To" Field (mm/dd/yyyy)');$("#FromDateRangeInvalid").val()=="1"&&alert('Error: Please enter a valid date in the Infection Date Range "From" Field (mm/dd/yyyy)');$("#ToDateRangeInFuture").val()=="1"&&alert('Error: Please enter a valid date that is not in the future in the Infection Date Range "To" Field');$("#FromDateRangeInFuture").val()=="1"&&alert('Error: Please enter a valid date that is not in the future in the Infection Date Range "From" Field');$("#FromAfterTo").val()=="1"&&alert('Error: You can not have the "From" Date after the "To" Date in the Infection Date Range Fields')})});