function initCommunities(){var n=$("#CommunityTable").dataTable({bFilter:!1,bAutoWidth:!1,aaSorting:[],sScrollY:"600px",sDom:"frtS",iDisplayLength:-1,aoColumns:[null,null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Law Firms"}});$(".checkbox").click(function(){var n=$(this).is(":checked"),t=$(this).attr("id"),i=$(this).parents("tr").children(":first-child").text();$.ajax({url:path+"BaseRiskManagement/ChangeDataFlgCom",dataType:"json",cache:!1,type:"POST",data:{community:t,dFlag:n,appCode:"RMW"},success:function(n){n.Success||alert("Community has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})});$(".checkboxReport").click(function(){var n=$(this).is(":checked"),t=$(this).attr("id"),i=$(this).parents("tr").children(":first-child").text();$.ajax({url:path+"BaseRiskManagement/ChangeReportFlgCom",dataType:"json",cache:!1,type:"POST",data:{community:t,dFlag:n,appCode:"RMW"},success:function(n){n.Success||alert("Community report flag has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down.")}})})}function initInsurance(){var n=$("#Insurance").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"100px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Insurance Companies"}}),t=null;n.fnSort([[1,"asc"]]);$("#Insurance").on("click",".EnableDisable",function(){var i=$(this),t=$(this).is(":checked"),r=$(this).parents("tr")[0],u=n.fnGetData(r);$.ajax({url:path+"RMWorkerCompAdmin/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:u[0],dFlag:t,rmwCode:insuranceCode},success:function(n){n.Success||(i.prop("checked",!t),alert("Insurance has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."))}})});$("#Insurance").on("click","a.edit",function(i){var r,u,f;i.preventDefault();r=$(this).parents("tr")[0];t!==null&&t!=r?(restoreRow(n,t),editRow(n,r),t=r):t==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=saveRowInsurance(n,t,u),f&&(t=null)):(editRow(n,r),t=r)});$("#Insurance").on("click","a.delete",function(t){var i,r,u;t.preventDefault();i=confirm("Are you sure you want to delete?");i==!0&&(r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),$.ajax({url:path+"RMWorkerCompAdmin/DeleteRowInsurance",dataType:"json",cache:!1,type:"POST",data:{rowId:u},success:function(t){t.Success?n.fnDeleteRow(r):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}}))});$("#Insurance").on("click","a.cancel",function(t){t.preventDefault();var i=$(this).parents("tr")[0];restoreRow(n,i)});$("#insuranceTab").find("[type='submit']").click(function(n){n.preventDefault();var t=$("#insuranceTab form"),r=$("#InsuranceNm").val(),i=$("#Insurance").dataTable();if(alreadyExist(r,i))return alert("Insurance already exists"),!1;if(!t.valid())return!1;$.ajax({url:t.attr("action"),dataType:"json",type:"POST",data:t.serialize(),success:function(n){if(n.Success){var r=n.data.InsuranceNm,u=n.data.SortOrder,f=n.data.DataEntryFlg,e=n.data.InsuranceId,o=i.fnAddData([r,u,createCheckboxString("EnableDisable","EnableDisable","EnableDisable",f),'<a class="edit" href="">Edit<\/a>','<a class="delete" href="">Delete<\/a>']),s=i.fnSettings().aoData[o[0]].nTr;s.setAttribute("id",e);t[0].reset()}else alert(n.message)},error:function(){alert("Server is not responding. Please reload page and try again")}})})}function initLegalFirm(){var n=$("#LawFirm").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"100px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Law Firms"}}),t=null;n.fnSort([[1,"asc"]]);$("#LawFirm").on("click",".EnableDisable",function(){var i=$(this),t=$(this).is(":checked"),r=$(this).parents("tr")[0],u=n.fnGetData(r);$.ajax({url:path+"RMWorkerCompAdmin/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:u[0],dFlag:t,rmwCode:lawFirmCode},success:function(n){n.Success||(i.prop("checked",!t),alert("Law Firm has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."))}})});$("#LawFirm").on("click","a.edit",function(i){var r,u,f;i.preventDefault();r=$(this).parents("tr")[0];t!==null&&t!=r?(restoreRow(n,t),editRow(n,r),t=r):t==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=saveRowLawFirm(n,t,u),f&&(t=null)):(editRow(n,r),t=r)});$("#LawFirm").on("click","a.delete",function(t){var i,r,u;t.preventDefault();i=confirm("Are you sure you want to delete?");i==!0&&(r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),$.ajax({url:path+"RMWorkerCompAdmin/DeleteRowLawFirm",dataType:"json",cache:!1,type:"POST",data:{rowId:u},success:function(t){t.Success?n.fnDeleteRow(r):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}}))});$("#LawFirm").on("click","a.cancel",function(t){t.preventDefault();var i=$(this).parents("tr")[0];restoreRow(n,i)});$("#legalTab").find("[type='submit']").click(function(n){n.preventDefault();var t=$("#legalTab form"),r=$("#LegalFirmNm ").val(),i=$("#LawFirm").dataTable();if(alreadyExist(r,i))return alert("Legal firm already exists"),!1;if(!t.valid())return!1;$.ajax({url:t.attr("action"),dataType:"json",type:"POST",data:t.serialize(),success:function(n){if(n.Success){var r=n.data.LegalFirmNm,u=n.data.SortOrder,f=n.data.DataEntryFlg,e=n.data.LegalFirmID,o=i.fnAddData([r,u,createCheckboxString("EnableDisable","EnableDisable","EnableDisable",f),'<a class="edit" href="">Edit<\/a>','<a class="delete" href="">Delete<\/a>']),s=i.fnSettings().aoData[o[0]].nTr;s.setAttribute("id",e);t[0].reset()}else alert(n.message)},error:function(){alert("Server is not responding. Please reload page and try again")}})})}function initVOC(){var n=$("#VOC").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"100px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No VOCs"}}),t=null;n.fnSort([[1,"asc"]]);$("#VOC").on("click",".EnableDisable",function(){var i=$(this),t=$(this).is(":checked"),r=$(this).parents("tr")[0],u=n.fnGetData(r);$.ajax({url:path+"RMWorkerCompAdmin/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:u[0],dFlag:t,rmwCode:vocCode},success:function(n){n.Success||(i.prop("checked",!t),alert("VOC has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."))}})});$("#VOC").on("click","a.edit",function(i){var r,u,f;i.preventDefault();r=$(this).parents("tr")[0];t!==null&&t!=r?(restoreRow(n,t),editRow(n,r),t=r):t==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=saveRowVOC(n,t,u),f&&(t=null)):(editRow(n,r),t=r)});$("#VOC").on("click","a.delete",function(t){var i,r,u;t.preventDefault();i=confirm("Are you sure you want to delete?");i==!0&&(r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),$.ajax({url:path+"RMWorkerCompAdmin/DeleteRowVOC",dataType:"json",cache:!1,type:"POST",data:{rowId:u},success:function(t){t.Success?n.fnDeleteRow(r):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}}))});$("#VOC").on("click","a.cancel",function(t){t.preventDefault();var i=$(this).parents("tr")[0];restoreRow(n,i)});$("#vocTab").find("[type='submit']").click(function(n){n.preventDefault();var t=$("#vocTab form"),r=$("#VOCRehabName").val(),i=$("#VOC").dataTable();if(alreadyExist(r,i))return alert("VOC Rehab already exists"),!1;if(!t.valid())return!1;$.ajax({url:t.attr("action"),dataType:"json",type:"POST",data:t.serialize(),success:function(n){if(n.Success){var r=n.data.VOCRehabName,u=n.data.SortOrder,f=n.data.DataEntryFlg,e=n.data.VOCRehabID,o=i.fnAddData([r,u,createCheckboxString("EnableDisable","EnableDisable","EnableDisable",f),'<a class="edit" href="">Edit<\/a>','<a class="delete" href="">Delete<\/a>']),s=i.fnSettings().aoData[o[0]].nTr;s.setAttribute("id",e);t[0].reset()}else alert(n.message)},error:function(){alert("Server is not responding. Please reload page and try again")}})})}function initTCM(){var n=$("#TCM").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"100px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No TCMs"}}),t=null;n.fnSort([[1,"asc"]]);$("#TCM").on("click",".EnableDisable",function(){var i=$(this),t=$(this).is(":checked"),r=$(this).parents("tr")[0],u=n.fnGetData(r);$.ajax({url:path+"RMWorkerCompAdmin/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:u[0],dFlag:t,rmwCode:tcmCode},success:function(n){n.Success||(i.prop("checked",!t),alert("TCM has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."))}})});$("#TCM").on("click","a.edit",function(i){var r,u,f;i.preventDefault();r=$(this).parents("tr")[0];t!==null&&t!=r?(restoreRow(n,t),editRow(n,r),t=r):t==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=saveRowTCM(n,t,u),f&&(t=null)):(editRow(n,r),t=r)});$("#TCM").on("click","a.delete",function(t){var i,r,u;t.preventDefault();i=confirm("Are you sure you want to delete?");i==!0&&(r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),$.ajax({url:path+"RMWorkerCompAdmin/DeleteRowTCM",dataType:"json",cache:!1,type:"POST",data:{rowId:u},success:function(t){t.Success?n.fnDeleteRow(r):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}}))});$("#TCM").on("click","a.cancel",function(t){t.preventDefault();var i=$(this).parents("tr")[0];restoreRow(n,i)});$("#tcmTab").find("[type='submit']").click(function(n){n.preventDefault();var t=$("#tcmTab form"),r=$("#TCMName").val(),i=$("#TCM").dataTable();if(alreadyExist(r,i))return alert("TCM already exists"),!1;if(!t.valid())return!1;$.ajax({url:t.attr("action"),dataType:"json",type:"POST",data:t.serialize(),success:function(n){if(n.Success){var r=n.data.TCMName,u=n.data.SortOrder,f=n.data.DataEntryFlg,e=n.data.TCMId,o=i.fnAddData([r,u,createCheckboxString("EnableDisable","EnableDisable","EnableDisable",f),'<a class="edit" href="">Edit<\/a>','<a class="delete" href="">Delete<\/a>']),s=i.fnSettings().aoData[o[0]].nTr;s.setAttribute("id",e);t[0].reset()}else alert(n.message)},error:function(){alert("Server is not responding. Please reload page and try again")}})})}function initClaims(){var n=$("#ClaimTypes").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"100px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Claim Types"}}),t=null;n.fnSort([[1,"asc"]]);$("#ClaimTypes").on("click",".EnableDisable",function(){var i=$(this),t=$(this).is(":checked"),r=$(this).parents("tr")[0],u=n.fnGetData(r);$.ajax({url:path+"RMWorkerCompAdmin/ChangeDataFlg",dataType:"json",cache:!1,type:"POST",data:{description:u[0],dFlag:t,rmwCode:typeCode},success:function(n){n.Success||(i.prop("checked",!t),alert("Claim Type has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."))}})});$("#ClaimTypes").on("click","a.edit",function(i){var r,u,f;i.preventDefault();r=$(this).parents("tr")[0];t!==null&&t!=r?(restoreRow(n,t),editRow(n,r),t=r):t==r&&this.innerHTML=="Save"?(u=$(this).closest("tr").attr("id"),f=saveRowType(n,t,u),f&&(t=null)):(editRow(n,r),t=r)});$("#ClaimTypes").on("click","a.delete",function(t){var i,r,u;t.preventDefault();i=confirm("Are you sure you want to delete?");i==!0&&(r=$(this).parents("tr")[0],u=$(this).closest("tr").attr("id"),$.ajax({url:path+"RMWorkerCompAdmin/DeleteRowType",dataType:"json",cache:!1,type:"POST",data:{rowId:u},success:function(t){t.Success?n.fnDeleteRow(r):alert("Error: Event not found in database")},error:function(){alert("Server is not responding. Please reload page and try again")}}))});$("#ClaimTypes").on("click","a.cancel",function(t){t.preventDefault();var i=$(this).parents("tr")[0];restoreRow(n,i)});$("#claimTab").find("[type='submit']").click(function(n){n.preventDefault();var t=$("#claimTab form"),r=$("#ClaimTypeDesc").val(),i=$("#ClaimTypes").dataTable();if(alreadyExist(r,i))return alert("Claim type already exists"),!1;if(!t.valid())return!1;$.ajax({url:t.attr("action"),dataType:"json",type:"POST",data:t.serialize(),success:function(n){if(n.Success){var r=n.data.ClaimTypeDesc,u=n.data.SortOrder,f=n.data.DataEntryFlg,e=n.data.ClaimTypeId,o=i.fnAddData([r,u,createCheckboxString("EnableDisable","EnableDisable","EnableDisable",f),'<a class="edit" href="">Edit<\/a>','<a class="delete" href="">Delete<\/a>']),s=i.fnSettings().aoData[o[0]].nTr;s.setAttribute("id",e);t[0].reset()}else alert(n.message)},error:function(){alert("Server is not responding. Please reload page and try again")}})})}function restoreRow(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function editRow(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input type="text" size="30" value="'+r[0]+'"/>';i[1].innerHTML='<input type="text" size="3" value="'+r[1]+'"/>';i[3].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function saveRowInsurance(n,t,i){var r=$("input",t),u=$("select",t);return $.ajax({url:path+"RMWorkerCompAdmin/EditRowInsurance",dataType:"json",cache:!1,type:"POST",data:{rowId:i,insurance:r[0].value,order:r[1].value},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}}),!0}function saveRowLawFirm(n,t,i){var r=$("input",t);return $.ajax({url:path+"RMWorkerCompAdmin/EditRowLawFirm",dataType:"json",cache:!1,type:"POST",data:{rowId:i,lawFirm:r[0].value,order:r[1].value},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}}),!0}function saveRowVOC(n,t,i){var r=$("input",t);return $.ajax({url:path+"RMWorkerCompAdmin/EditRowVOC",dataType:"json",cache:!1,type:"POST",data:{rowId:i,voc:r[0].value,order:r[1].value},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}}),!0}function saveRowTCM(n,t,i){var r=$("input",t);return $.ajax({url:path+"RMWorkerCompAdmin/EditRowTCM",dataType:"json",cache:!1,type:"POST",data:{rowId:i,tcm:r[0].value,order:r[1].value},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}}),!0}function saveRowType(n,t,i){var r=$("input",t);return $.ajax({url:path+"RMWorkerCompAdmin/EditRowType",dataType:"json",cache:!1,type:"POST",data:{rowId:i,type:r[0].value,order:r[1].value},success:function(i){i.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1))},error:function(){alert("Server is not responding. Please reload page and try again")}}),!0}function alreadyExist(n,t,i){var u,r,f;for(i||(i=0),u=t.dataTable().fnGetData(),r=0;r<u.length;r++)if(f=u[r][i],f.toLowerCase()===n.toLowerCase())return!0;return!1}function createCheckboxString(n,t,i,r){var u,f;return r&&(u="checked"),f='<input class="'+t+'" id="'+n+'" name="'+i+'" type="checkbox" value="'+r+'" '+u+">",f+('<input name="'+i+'" type="hidden" value="'+r+'">')}var insuranceCode=0,lawFirmCode=1,vocCode=2,tcmCode=3,typeCode=4;$(document).ready(function(){$("#tabs").tabs();initCommunities();initInsurance();initLegalFirm();initVOC();initTCM();initClaims();$("#tabs").tabs({activate:function(n,t){var r=t.newPanel.find(".dataTable").filter(function(){return this.id!=""}),u;for(i=0;i<r.length;i++)u=$("#"+r[i].id).dataTable(),u.fnAdjustColumnSizing()}})});$(document).ajaxSend(function(){ShowProgress()});$(document).ajaxComplete(function(){HideProgress()});