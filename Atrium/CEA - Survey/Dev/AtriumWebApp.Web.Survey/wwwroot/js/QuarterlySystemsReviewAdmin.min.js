function StandardsOfCareMeasureTable(n){function r(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function u(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input type="text" size="35" value="'+r[0]+'"/>';i[1].innerHTML='<input type="text" size="3" value="'+r[1]+'"/>';i[2].innerHTML='<input type="text" size="3" value="'+r[2]+'"/>';i[3].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function f(n,t,i){var r=$("input",t);$.ajax({url:path+"QuarterlySystemsReviewAdmin/EditStandardsOfCareMeasure",dataType:"json",cache:!1,type:"POST",data:{Id:i,Name:r[0].value,ThresholdBonusPoints:r[1].value,SortOrder:r[2].value},success:function(u){u.Success&&(n.fnUpdate(r[0].value,t,0,!1),n.fnUpdate(r[1].value,t,1,!1),n.fnUpdate(r[2].value,t,2,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1),$(".socMeasure"+i).html(r[0].value));SetCountDownTime(1800)},error:function(){alert("Server is not responding. Please reload page and try again")}})}var i=$(n).dataTable({bFilter:!1,bAutoWidth:!0,sScrollY:"95px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},{sWidth:"120px"},{sWidth:"60px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Standards of Care Measures"}}),t=null;$(i).on("click","a.edit",function(n){var e,o,s;n.preventDefault();e=$(this).parents("tr")[0];t!==null&&t!=e?(r(i,t),u(i,e),t=e):t==e&&this.innerHTML=="Save"?(o=$(this).closest("tr").attr("id"),s=f(i,t,o),s&&(t=null)):(u(i,e),t=e)});$(i).on("click","a.cancel",function(n){n.preventDefault();var t=$(this).parents("tr")[0];r(i,t)})}function GeneralMeasureTable(n){function r(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function u(n,t){var r=n.fnGetData(t),i=$(">td",t);i[0].innerHTML='<input class="name" type="text" size="35" value="'+r[0]+'"/>';$("#RequiresPatientSample",$(i[1])).prop("disabled",!1);i[2].innerHTML='<input class="sortOrder" type="text" size="3" value="'+r[2]+'"/>';i[3].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function f(n,t,i){var u=$(".name",t).val(),r=$("#RequiresPatientSample",t),f=$(".sortOrder",t).val();$.ajax({url:path+"QuarterlySystemsReviewAdmin/EditGeneralMeasure",dataType:"json",cache:!1,type:"POST",data:{Id:i,Name:u,RequiresPatientSample:r.prop("checked"),SortOrder:f},success:function(e){if(e.Success){r.prop("checked")?r.attr("checked","checked"):r.removeAttr("checked");r.prop("disabled",!0);var o=r.parent().html();n.fnUpdate(u,t,0,!1);n.fnUpdate(o,t,1,!0);n.fnUpdate(f,t,2,!1);n.fnUpdate('<a class="edit" href="">Edit<\/a>',t,3,!1);$(".generalMeasure"+i).html(u)}SetCountDownTime(1800)},error:function(){alert("Server is not responding. Please reload page and try again")}})}var i=$(n).dataTable({bFilter:!1,bAutoWidth:!0,sScrollY:"95px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"400px"},{sWidth:"100px"},{sWidth:"60px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Other Measures"}}),t=null;$(i).on("click","a.edit",function(n){var e,o,s;n.preventDefault();e=$(this).parents("tr")[0];t!==null&&t!=e?(r(i,t),u(i,e),t=e):t==e&&this.innerHTML=="Save"?(o=$(this).closest("tr").attr("id"),s=f(i,t,o),s&&(t=null)):(u(i,e),t=e)});$(i).on("click","a.cancel",function(n){n.preventDefault();var t=$(this).parents("tr")[0];r(i,t)})}function QuestionTable(n,t){function u(n,t){for(var r=n.fnGetData(t),u=$(">td",t),i=0,f=u.length;i<f;i++)n.fnUpdate(r[i],t,i,!1)}function f(n,t){var r=n.fnGetData(t),i=$(">td",t);i[1].innerHTML='<textarea type="text" cols="30" rows="3">'+r[1]+"<\/textarea>";i[2].innerHTML='<input type="text" size="3" value="'+r[2]+'"/>';i[3].innerHTML='<input type="text" size="3" value="'+r[3]+'"/>';i[4].innerHTML='<a class="edit" href="">Save<\/a> <a class="cancel" href="">Cancel<\/a>'}function e(n,i,r){var u=$("input",i),f=$("textarea",i).val();$.ajax({url:t,dataType:"json",cache:!1,type:"POST",data:{Id:r,Text:f,MaxPoints:u[0].value,SortOrder:u[1].value},success:function(t){t.Success&&(n.fnUpdate(f,i,1,!1),n.fnUpdate(u[0].value,i,2,!1),n.fnUpdate(u[1].value,i,3,!1),n.fnUpdate('<a class="edit" href="">Edit<\/a>',i,4,!1));SetCountDownTime(1800)},error:function(){alert("Server is not responding. Please reload page and try again")}})}var r=$(n).dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"200px",sDom:"frtS",iDisplayLength:-1,aoColumns:[{sWidth:"200px"},{sWidth:"400px"},{sWidth:"60px"},{sWidth:"60px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Review Questions"}}),i=null;$(r).on("click","a.edit",function(n){var t,o,s;n.preventDefault();t=$(this).parents("tr")[0];i!==null&&i!=t?(u(r,i),f(r,t),i=t):i==t&&this.innerHTML=="Save"?(o=$(this).closest("tr").attr("id"),s=e(r,i,o),s&&(i=null)):(f(r,t),i=t)});$(r).on("click","a.cancel",function(n){n.preventDefault();var t=$(this).parents("tr")[0];u(r,t)})}function PreparePage(){$("#tabs").tabs();var t=new StandardsOfCareMeasureTable("#SOCMeasures"),r=new QuestionTable("#SOCQuestions",path+"QuarterlySystemsReviewAdmin/EditStandardsOfCareQuestion"),u=new GeneralMeasureTable("#GeneralMeasures"),f=new QuestionTable("#GeneralQuestions",path+"QuarterlySystemsReviewAdmin/EditGeneralQuestion"),n=$("#CommunityTable").dataTable({bFilter:!1,bAutoWidth:!1,sScrollY:"745px",sDom:"frtS",iDisplayLength:-1,aoColumns:[null,null,null,{bSearchable:!1,bSortable:!1,sWidth:"20px"},{bSearchable:!1,bSortable:!1,sWidth:"20px"}],oLanguage:{sEmptyTable:"No Law Firms"}});$(".checkbox",n).click(function(){var t=$(this),n=$(this).is(":checked"),i=$(this).attr("id"),r=$(this).parents("tr").children(":first-child").text();$.ajax({url:path+"QuarterlySystemsReviewAdmin/ChangeDataFlgCom",dataType:"json",cache:!1,type:"POST",data:{community:i,dFlag:n,appCode:"QSR"},success:function(i){i.Success||(t.prop("checked",!n),alert("Community has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."));SetCountDownTime(1800)}})});$(".checkboxReport",n).click(function(){var t=$(this),n=$(this).is(":checked"),i=$(this).attr("id"),r=$(this).parents("tr").children(":first-child").text();$.ajax({url:path+"QuarterlySystemsReviewAdmin/ChangeReportFlgCom",dataType:"json",cache:!1,type:"POST",data:{community:i,dFlag:n,appCode:"QSR"},success:function(i){i.Success||(t.prop("checked",!n),alert("Community report flag has failed to be enabled/disabled. Please try again and if you see this message repeatedly the server may be down."));SetCountDownTime(1800)}})});$("#tabs").tabs({activate:function(n,t){var r=t.newPanel.find(".dataTable").filter(function(){return this.id!=""}),u;for(i=0;i<r.length;i++)u=$("#"+r[i].id).dataTable(),u.fnAdjustColumnSizing()}})}$(document).ajaxSend(function(){ShowProgress()});$(document).ajaxComplete(function(){HideProgress()});